"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.sessionDataHook = void 0;
class Storage {
    constructor() {
        // eslint-disable-next-line @typescript-eslint/ban-types
        Object.defineProperty(this, "storage", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        this.storage = new WeakMap();
    }
    // eslint-disable-next-line @typescript-eslint/ban-types
    get(token) {
        if (!token) {
            return;
        }
        if (!this.storage.has(token)) {
            this.storage.set(token, {});
        }
        return this.storage.get(token);
    }
}
const storage = new Storage();
const sessionDataHook = (options) => {
    // eslint-disable-next-line @typescript-eslint/ban-types
    options.context.sessionData = storage.get(options.context.sessionToken);
};
exports.sessionDataHook = sessionDataHook;
//# sourceMappingURL=storage.js.map